<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>FileHelpers Library - Marcos Meli</title>
<link href="/favicon.ico" rel="SHORTCUT ICON"/>
<link href="global.css" type="text/css" rel="stylesheet"/>
<link type="text/css" rel="stylesheet" href="SyntaxHighlighter.css"/>
<meta name="Description" content="FileHelpers is an easy to use .NET library to read/write data from fixed length or delimited files or streams. It has support to import/export data from different data sources." />
<meta name="Author" content="Marcos Meli" />
<meta name="keywords" content="filehelpers,CSV,Marcos Meli,C#,free,opensource,Devoo.net,Delimited Files,Import/Export"/>
<meta name="Copyright" content="Copyright 2005-10 to Marcos Meli - www.Devoo.net. All Rights Reserved."/>
</head>
<body>

{$HEADER$}

<table width="100%" cellpadding="5" cellspacing="5">
<tr><td><div id="contentdiv"> 

<h2>Record Conditions Example </h2>

<blockquote>
<p>You can now filter the records from a file using a lot of conditions to include or exclude each line.</p>

<p>If we have this sample data:</p>

<textarea class="c#:nogutter:nocontrols" name="code" cols="140" rows="17">
ANTON	Antonio Moreno Taquería	Antonio Moreno	Owner	Mataderos  2312	México D.F.	Mexico
AROUT	Around the Horn	Thomas Hardy	Sales Representative	120 Hanover Sq.	London	UK
BERGS	Berglunds snabbköp	Christina Berglund	Order Administrator	Berguvsvägen  8	Luleå	Sweden
BOTTM	Bottom-Dollar Markets	Elizabeth Lincoln	Accounting Manager	23 Tsawassen Blvd.	Tsawassen	Canada
BSBEV	B's Beverages	Victoria Ashworth	Sales Representative	Fauntleroy Circus	London	UK
CACTU	Cactus Comidas para llevar	Patricio Simpson	Sales Agent	Cerrito 333	Buenos Aires	Argentina
COMMI	Comércio Mineiro	Pedro Afonso	Sales Associate	Av. dos Lusíadas, 23	Sao Paulo	Brazil
DRACD	Drachenblut Delikatessen	Sven Ottlieb	Order Administrator	Walserweg 21	Aachen	Germany
EASTC	Eastern Connection	Ann Devon	Sales Agent	35 King George	London	UK
ERNSH	Ernst Handel	Roland Mendel	Sales Manager	Kirchgasse 6	Graz	Austria
FISSA	FISSA Fabrica Inter. Salchichas S.A.	Diego Roel	Accounting Manager	C/ Moralzarzal, 86	Madrid	Spain
FOLIG	Folies gourmandes	Martine Rancé	Assistant Sales Agent	184, chaussée de Tournai	Lille	France
FOLKO	Folk och fä HB	Maria Larsson	Owner	Åkergatan 24	Bräcke	Sweden
FRANK	Frankenversand	Peter Franken	Marketing Manager	Berliner Platz 43	München	Germany
FURIB	Furia Bacalhau e Frutos do Mar	Lino Rodriguez	Sales Manager	Jardim das rosas n. 32	Lisboa	Portugal
GROSR	GROSELLA-Restaurante	Manuel Pereira	Owner	5ª Ave. Los Palos Grandes	Caracas	Venezuela
</textarea>

<p>We define a record class with an RecordCondition to only include all the ones that begin with "F":</p>

<textarea class="c#" name="code" rows="13" cols="80">
[ConditionalRecord(RecordCondition.IncludeIfBegins, "F")]
[DelimitedRecord("\t")]
public class CustomersTab
{
	public string CustomerID;
	public string CompanyName;
	public string ContactName;
	public string ContactTitle;
	public string Address;
	public string City;
	public string Country;
}
</textarea>

<p>If we now run:</p>

<textarea class="c#" name="code" rows="3" cols="80">
var engine = new FileHelperEngine&lt;CustomersTab&gt;();
CustomersTab[] res = engine.ReadFile("sample.txt");
</textarea>

<p>And the resulting array only has records beginning with F:</p>

<textarea class="c#:nogutter:nocontrols" name="code" cols="130" rows="6"  readonly="readonly">
FISSA	FISSA Fabrica Inter. Salchichas S.A.	Diego Roel	Accounting Manager	C/ Moralzarzal, 86	Madrid	Spain
FOLIG	Folies gourmandes	Martine Rancé	Assistant Sales Agent	184, chaussée de Tournai	Lille	France
FOLKO	Folk och fä HB	Maria Larsson	Owner	Åkergatan 24	Bräcke	Sweden
FRANK	Frankenversand	Peter Franken	Marketing Manager	Berliner Platz 43	München	Germany
FURIB	Furia Bacalhau e Frutos do Mar	Lino Rodriguez	Sales Manager	Jardim das rosas n. 32	Lisboa	Portugal
</textarea>

<p>Remember that you can also do this with the DelimitedFileEngine</p>

<textarea class="c#" name="code" rows="7" cols="80">
var engine = new DelimitedFileEngine&lt;CustomersTab&gt;();
engine.Options.RecordCondition.Condition = RecordCondition.IncludeIfBegins;
engine.Options.RecordCondition.Selector = "F";

// The same result
CustomersTab[] res = engine.ReadFile("sample.txt");
</textarea>

<p>Enjoy it !!!</p>
</blockquote>
{$FOOTER$}</div></td>
</tr>
</table>
</body></html>
